import{q as n,e as l,a as i,c as o}from"./functions-de1108d3.js";import{U as h}from"./UcoastEl-5d53ad84.js";function c(r){return!(!r||r.localName!=="slider-component")}class d extends h{constructor(){var e,s;super(),this.currentPage=1,this.slider=n('[id^="Slider-"]',this),this.sliderItems=l('[id^="Slide-"]',this),this.enableSliderLooping=!1,this.currentPageElement=i(".slider-counter--current",this),this.pageTotalElement=i(".slider-counter--total",this),this.prevButton=i('button[name="previous"]',this),this.nextButton=i('button[name="next"]',this),this.initPages(),new ResizeObserver(a=>this.initPages()).observe(this.slider),this.slider.addEventListener("scroll",this.update.bind(this)),(e=this.prevButton)==null||e.addEventListener("click",this.onButtonClick.bind(this)),(s=this.nextButton)==null||s.addEventListener("click",this.onButtonClick.bind(this))}initPages(){this.sliderItemsToShow=this.sliderItems?Array.from(this.sliderItems).filter(t=>t.clientWidth>0):[],!(this.sliderItemsToShow.length<2)&&(this.sliderItemOffset=this.sliderItemsToShow[1].offsetLeft-this.sliderItemsToShow[0].offsetLeft,this.slidesPerPage=Math.floor((this.slider.clientWidth-this.sliderItemsToShow[0].offsetLeft)/this.sliderItemOffset),this.totalPages=this.sliderItemsToShow.length-this.slidesPerPage+1,this.update())}resetPages(){this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.initPages()}createSlideChangedEvent(){const t=this.currentPage;if(!t)throw new Error("cannot createSlideChangedEvent - currentPage is undefined");if(!this.sliderItemsToShow)throw new Error("cannot createSlideChangedEvent - sliderItemsToShow is undefined");const e=this.sliderItemsToShow[t-1];if(!e)throw new Error("cannot createSlideChangedEvent - currentElement is undefined");return new CustomEvent("slideChanged",{detail:{currentPage:t,currentElement:e}})}update(){if(!this.slider||!this.nextButton)return;const t=this.currentPage;if(!this.sliderItemOffset||this.sliderItemOffset===0?this.currentPage=1:this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItemOffset)+1,this.currentPageElement&&this.pageTotalElement&&(this.currentPageElement.textContent=`${this.currentPage}`,this.pageTotalElement.textContent=`${this.totalPages}`),this.currentPage!=t)if(this.sliderItemsToShow)this.dispatchEvent(this.createSlideChangedEvent());else throw new Error("sliderItemsToShow is undefined");this.enableSliderLooping||(this.prevButton&&this.sliderItemsToShow&&this.sliderItemsToShow.length&&this.isSlideVisible(this.sliderItemsToShow[0])&&this.slider.scrollLeft===0?this.prevButton.setAttribute("disabled","disabled"):this.prevButton&&this.prevButton.removeAttribute("disabled"),this.nextButton&&this.sliderItemsToShow&&this.sliderItemsToShow.length>0&&this.isSlideVisible(this.sliderItemsToShow[this.sliderItemsToShow.length-1])?this.nextButton.setAttribute("disabled","disabled"):this.nextButton&&this.nextButton.removeAttribute("disabled"))}isSlideVisible(t,e=0){const s=this.slider.clientWidth+this.slider.scrollLeft-e;return t.offsetLeft+t.clientWidth<=s&&t.offsetLeft>=this.slider.scrollLeft}onButtonClick(t){t.preventDefault();const e=o(t);if(!(e instanceof HTMLButtonElement)||!this.sliderItemOffset)return;const s=e.dataset.step?parseInt(e.dataset.step):1;this.slideScrollPosition=e.name==="next"?this.slider.scrollLeft+s*this.sliderItemOffset:this.slider.scrollLeft-s*this.sliderItemOffset,this.setSlidePosition(this.slideScrollPosition)}setSlidePosition(t){this.slider.scrollTo({left:t})}}d.htmlSelector="slider-component";export{d as S,c as i};
//# sourceMappingURL=slider-component-fcaef380.js.map
