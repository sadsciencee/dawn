{"version":3,"file":"js-optional-predictive-search-5950e959.js","sources":["../src/scripts/optional/predictive-search.ts","../src/entry/js-optional-predictive-search.ts"],"sourcesContent":["import { SearchForm } from '@/scripts/theme/search-form'\nimport { getAttributeOrThrow, qsaOptional, qsaRequired, qsOptional, qsRequired } from '@/scripts/functions';\nimport { routes } from '@/scripts/setup'\n\nexport class PredictiveSearch extends SearchForm {\n\tstatic override htmlSelector = 'predictive-search'\n\tcachedResults: Record<string, string>\n\tpredictiveSearchResults: HTMLElement\n\tallPredictiveSearchInstances: NodeListOf<PredictiveSearch>\n\tisOpen: boolean\n\tabortController: AbortController\n\tsearchTerm: string\n\tstatusElement?: HTMLElement\n\tloadingText?: string\n\tresultsMaxHeight?: number | boolean\n\tconstructor() {\n\t\tsuper()\n\t\tthis.cachedResults = {}\n\t\tthis.predictiveSearchResults = qsRequired('[data-predictive-search]', this)\n\t\tthis.allPredictiveSearchInstances = qsaRequired<PredictiveSearch>('predictive-search')\n\t\tthis.isOpen = false\n\t\tthis.abortController = new AbortController()\n\t\tthis.searchTerm = ''\n\n\t\tthis.setupEventListeners()\n\t}\n\n\tsetupEventListeners() {\n\t\tthis.form.addEventListener('submit', this.onFormSubmit.bind(this))\n\n\t\tthis.input.addEventListener('focus', this.onFocus.bind(this))\n\t\tthis.addEventListener('focusout', this.onFocusOut.bind(this))\n\t\tthis.addEventListener('keyup', this.onKeyup.bind(this))\n\t\tthis.addEventListener('keydown', this.onKeydown.bind(this))\n\t}\n\n\tgetQuery() {\n\t\treturn this.input.value.trim()\n\t}\n\n\toverride onChange() {\n\t\tsuper.onChange()\n\t\tconst newSearchTerm = this.getQuery()\n\t\tif (!this.searchTerm || !newSearchTerm.startsWith(this.searchTerm)) {\n\t\t\t// Remove the results when they are no longer relevant for the new search term\n\t\t\t// so they don't show up when the dropdown opens again\n\t\t\tthis.querySelector('#predictive-search-results-groups-wrapper')?.remove()\n\t\t}\n\n\t\t// Update the term asap, don't wait for the predictive search query to finish loading\n\t\tthis.updateSearchForTerm(this.searchTerm, newSearchTerm)\n\n\t\tthis.searchTerm = newSearchTerm\n\n\t\tif (!this.searchTerm.length) {\n\t\t\tthis.close(true)\n\t\t\treturn\n\t\t}\n\n\t\tthis.getSearchResults(this.searchTerm)\n\t}\n\n\tonFormSubmit(event: Event) {\n\t\tif (!this.getQuery().length || this.querySelector('[aria-selected=\"true\"] a'))\n\t\t\tevent.preventDefault()\n\t}\n\n\toverride onFormReset(event: Event) {\n\t\tsuper.onFormReset(event)\n\t\tif (super.shouldResetForm()) {\n\t\t\tthis.searchTerm = ''\n\t\t\tthis.abortController.abort()\n\t\t\tthis.abortController = new AbortController()\n\t\t\tthis.closeResults(true)\n\t\t}\n\t}\n\n\tonFocus() {\n\t\tconst currentSearchTerm = this.getQuery()\n\n\t\tif (!currentSearchTerm.length) return\n\n\t\tif (this.searchTerm !== currentSearchTerm) {\n\t\t\t// Search term was changed from other search input, treat it as a user change\n\t\t\tthis.onChange()\n\t\t} else if (this.getAttribute('results') === 'true') {\n\t\t\tthis.open()\n\t\t} else {\n\t\t\tthis.getSearchResults(this.searchTerm)\n\t\t}\n\t}\n\n\tonFocusOut() {\n\t\tsetTimeout(() => {\n\t\t\tif (!this.contains(document.activeElement)) this.close()\n\t\t})\n\t}\n\n\tonKeyup(event: KeyboardEvent) {\n\t\tif (!this.getQuery().length) this.close(true)\n\t\tevent.preventDefault()\n\n\t\tswitch (event.code) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\tthis.switchOption('up')\n\t\t\t\tbreak\n\t\t\tcase 'ArrowDown':\n\t\t\t\tthis.switchOption('down')\n\t\t\t\tbreak\n\t\t\tcase 'Enter':\n\t\t\t\tthis.selectOption()\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tonKeydown(event: KeyboardEvent) {\n\t\t// Prevent the cursor from moving in the input when using the up and down arrow keys\n\t\tif (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\n\t\t\tevent.preventDefault()\n\t\t}\n\t}\n\n\tupdateSearchForTerm(previousTerm: string, newTerm: string) {\n\t\tconst searchForTextElement = qsOptional('[data-predictive-search-search-for-text]', this)\n\t\tif (!searchForTextElement) return\n\t\tconst currentButtonText = searchForTextElement.innerText\n\t\tif (!currentButtonText) return\n\t\tconst regex = new RegExp(previousTerm, 'g')\n\t\tif (regex === null) return\n\t\tif (currentButtonText.match(regex)?.length ?? 0 > 1) {\n\t\t\tconsole.warn(\n\t\t\t\t'The search term is used more than once in the button text, do not replace to avoid mistakes'\n\t\t\t)\n\t\t\t// The new term matches part of the button text and not just the search term, do not replace to avoid mistakes\n\t\t\treturn\n\t\t}\n\t\tconst newButtonText = currentButtonText.replace(previousTerm, newTerm)\n\t\tsearchForTextElement.innerText = newButtonText\n\t}\n\n\tswitchOption(direction: 'up' | 'down') {\n\t\tif (!this.getAttribute('open')) return\n\n\t\tconst moveUp = direction === 'up'\n\t\tconst selectedElement = this.querySelector('[aria-selected=\"true\"]')\n\n\t\t// Filter out hidden elements (duplicated page and article resources) thanks\n\t\t// to this https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n\t\t// TODO: not sure about this assignemnt so check here if buggy\n\t\tconst allVisibleElementsNodes =\n\t\t\tqsaOptional('li, button.predictive-search__item', this) ?? []\n\t\tconst allVisibleElements = Array.from(allVisibleElementsNodes).filter(\n\t\t\t(element) => element.offsetParent !== null\n\t\t)\n\t\tlet activeElementIndex = 0\n\n\t\tif (moveUp && !selectedElement) return\n\n\t\tlet selectedElementIndex = -1\n\t\tlet i = 0\n\n\t\twhile (selectedElementIndex === -1 && i <= allVisibleElements.length) {\n\t\t\tif (allVisibleElements[i] === selectedElement) {\n\t\t\t\tselectedElementIndex = i\n\t\t\t}\n\t\t\ti++\n\t\t}\n\n\t\tif (!this.statusElement)\n\t\t\tthrow new Error('switchOption called too early - statusElement not set')\n\n\t\tthis.statusElement.textContent = ''\n\n\t\tif (!moveUp && selectedElement) {\n\t\t\tactiveElementIndex =\n\t\t\t\tselectedElementIndex === allVisibleElements.length - 1\n\t\t\t\t\t? 0\n\t\t\t\t\t: selectedElementIndex + 1\n\t\t} else if (moveUp) {\n\t\t\tactiveElementIndex =\n\t\t\t\tselectedElementIndex === 0\n\t\t\t\t\t? allVisibleElements.length - 1\n\t\t\t\t\t: selectedElementIndex - 1\n\t\t}\n\n\t\tif (activeElementIndex === selectedElementIndex) return\n\n\t\tconst activeElement = allVisibleElements[activeElementIndex]\n\n\t\tactiveElement.setAttribute('aria-selected', 'true')\n\t\tif (selectedElement) selectedElement.setAttribute('aria-selected', 'false')\n\n\t\tthis.input.setAttribute('aria-activedescendant', activeElement.id)\n\t}\n\n\tselectOption() {\n\t\tconst selectedOption = qsRequired<HTMLButtonElement | HTMLAnchorElement>(\n\t\t\t'[aria-selected=\"true\"] a, button[aria-selected=\"true\"]',\n\t\t\tthis\n\t\t)\n\n\t\tif (selectedOption) selectedOption.click()\n\t}\n\n\tgetSearchResults(searchTerm: string) {\n\t\tconst queryKey = searchTerm.replace(' ', '-').toLowerCase()\n\t\tthis.setLiveRegionLoadingState()\n\n\t\tif (this.cachedResults[queryKey]) {\n\t\t\tthis.renderSearchResults(this.cachedResults[queryKey])\n\t\t\treturn\n\t\t}\n\n\t\tfetch(\n\t\t\t`${routes.predictive_search_url}?q=${encodeURIComponent(\n\t\t\t\tsearchTerm\n\t\t\t)}&section_id=predictive-search`,\n\t\t\t{\n\t\t\t\tsignal: this.abortController.signal,\n\t\t\t}\n\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tconst error = new Error(`${response.status}`)\n\t\t\t\t\tthis.close()\n\t\t\t\t\tthrow error\n\t\t\t\t}\n\n\t\t\t\treturn response.text()\n\t\t\t})\n\t\t\t.then((text) => {\n\t\t\t\tconst newDocument = new DOMParser().parseFromString(text, 'text/html')\n\t\t\t\tconst resultsMarkup = qsRequired(\n\t\t\t\t\t'#shopify-section-predictive-search',\n\t\t\t\t\tnewDocument.documentElement\n\t\t\t\t).innerHTML\n\t\t\t\t// Save bandwidth keeping the cache in all instances synced\n\t\t\t\tthis.allPredictiveSearchInstances.forEach((predictiveSearchInstance) => {\n\t\t\t\t\tpredictiveSearchInstance.cachedResults[queryKey] = resultsMarkup\n\t\t\t\t})\n\t\t\t\tthis.renderSearchResults(resultsMarkup)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error?.code === 20) {\n\t\t\t\t\t// Code 20 means the call was aborted\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.close()\n\t\t\t\tthrow error\n\t\t\t})\n\t}\n\n\tsetLiveRegionLoadingState() {\n\t\tthis.statusElement = this.statusElement || qsRequired('.predictive-search-status', this)\n\t\tthis.loadingText = this.loadingText || getAttributeOrThrow('data-loading-text', this)\n\n\t\tthis.setLiveRegionText(this.loadingText)\n\t\tthis.setAttribute('loading', 'true')\n\t}\n\n\tsetLiveRegionText(statusText: string) {\n\t\tif (!this.statusElement)\n\t\t\tthrow new Error('setLiveRegionText called to early - this.statusElement is not defined')\n\t\tthis.statusElement.setAttribute('aria-hidden', 'false')\n\t\tthis.statusElement.textContent = statusText\n\n\t\tsetTimeout(() => {\n\t\t\tif (!this.statusElement) throw new Error('this.statusElement removed before timeout')\n\t\t\tthis.statusElement.setAttribute('aria-hidden', 'true')\n\t\t}, 1000)\n\t}\n\n\trenderSearchResults(resultsMarkup: string) {\n\t\tthis.predictiveSearchResults.innerHTML = resultsMarkup\n\t\tthis.setAttribute('results', 'true')\n\n\t\tthis.setLiveRegionResults()\n\t\tthis.open()\n\t}\n\n\tsetLiveRegionResults() {\n\t\tthis.removeAttribute('loading')\n\t\tconst liveRegionCountEl = qsOptional('[data-predictive-search-live-region-count]', this)\n\t\tthis.setLiveRegionText(liveRegionCountEl?.textContent ?? '')\n\t}\n\n\tgetResultsMaxHeight() {\n\t\tconst header = qsRequired('.section-header')\n\t\tthis.resultsMaxHeight = window.innerHeight - header.getBoundingClientRect().bottom\n\t\treturn this.resultsMaxHeight\n\t}\n\n\topen() {\n\t\tthis.predictiveSearchResults.style.maxHeight =\n\t\t\t`${this.resultsMaxHeight}px` || `${this.getResultsMaxHeight()}px`\n\t\tthis.setAttribute('open', 'true')\n\t\tthis.input.setAttribute('aria-expanded', 'true')\n\t\tthis.isOpen = true\n\t}\n\n\tclose(clearSearchTerm = false) {\n\t\tthis.closeResults(clearSearchTerm)\n\t\tthis.isOpen = false\n\t}\n\n\tcloseResults(clearSearchTerm = false) {\n\t\tif (clearSearchTerm) {\n\t\t\tthis.input.value = ''\n\t\t\tthis.removeAttribute('results')\n\t\t}\n\t\tconst selected = this.querySelector('[aria-selected=\"true\"]')\n\n\t\tif (selected) selected.setAttribute('aria-selected', 'false')\n\n\t\tthis.input.setAttribute('aria-activedescendant', '')\n\t\tthis.removeAttribute('loading')\n\t\tthis.removeAttribute('open')\n\t\tthis.input.setAttribute('aria-expanded', 'false')\n\t\tthis.resultsMaxHeight = false\n\t\tthis.predictiveSearchResults.removeAttribute('style')\n\t}\n}\n","import { safeDefineElement } from '@/scripts/functions';\nimport { PredictiveSearch } from '@/scripts/optional/predictive-search';\n\nsafeDefineElement(PredictiveSearch)\n"],"names":["PredictiveSearch","SearchForm","qsRequired","qsaRequired","newSearchTerm","_a","event","currentSearchTerm","previousTerm","newTerm","searchForTextElement","qsOptional","currentButtonText","regex","newButtonText","direction","moveUp","selectedElement","allVisibleElementsNodes","qsaOptional","allVisibleElements","element","activeElementIndex","selectedElementIndex","i","activeElement","selectedOption","searchTerm","queryKey","routes","response","error","text","newDocument","resultsMarkup","predictiveSearchInstance","getAttributeOrThrow","statusText","liveRegionCountEl","header","clearSearchTerm","selected","safeDefineElement"],"mappings":"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"}