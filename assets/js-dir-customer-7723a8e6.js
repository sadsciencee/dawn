import{S as n}from"./shopify-9954b672.js";import{c as i,k as u,q as c,a as g,j as d}from"./functions-de1108d3.js";const s={customerAddresses:"[data-customer-addresses]",addressCountrySelect:"[data-address-country-select]",addressContainer:"[data-address]",toggleAddressButton:"button[aria-expanded]",cancelAddressButton:'button[type="reset"]',deleteAddressButton:"button[data-confirm-message]"},o={expanded:"aria-expanded",confirmMessage:"data-confirm-message"};class l{constructor(){this._handleAddEditButtonClick=e=>{const t=i(e);this._toggleExpanded(t)},this._handleCancelButtonClick=e=>{const t=u(e,"selectors.addressContainer"),r=c(`[${o.expanded}]`,t);this._toggleExpanded(r)},this._handleDeleteButtonClick=e=>{const t=i(e),r=t.getAttribute(o.confirmMessage),a=t.dataset.target;!r||!a||confirm(r)&&n.postLink(a,{parameters:{_method:"delete"}})},this.elements=this._getElements(),this._setupCountries(),this._setupEventListeners()}_getElements(){const e=g(s.customerAddresses);return e?{container:e,addressContainer:c(s.addressContainer,e),toggleButtons:d(s.toggleAddressButton),cancelButtons:d(s.cancelAddressButton,e),deleteButtons:d(s.deleteAddressButton,e),countrySelects:d(s.addressCountrySelect,e)}:void 0}_setupCountries(){n&&n.CountryProvinceSelector&&this.elements&&(new n.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.elements.countrySelects.forEach(e=>{const t=e.dataset.formId;new n.CountryProvinceSelector(`AddressCountry_${t}`,`AddressProvince_${t}`,{hideElement:`AddressProvinceContainer_${t}`})}))}_setupEventListeners(){this.elements&&(this.elements.toggleButtons.forEach(e=>{e.addEventListener("click",this._handleAddEditButtonClick)}),this.elements.cancelButtons.forEach(e=>{e.addEventListener("click",this._handleCancelButtonClick)}),this.elements.deleteButtons.forEach(e=>{e.addEventListener("click",this._handleDeleteButtonClick)}))}_toggleExpanded(e){e.setAttribute(o.expanded,(e.getAttribute(o.expanded)==="false").toString())}}function h(){window.addEventListener("load",()=>{typeof l<"u"&&new l})}h();
//# sourceMappingURL=js-dir-customer-7723a8e6.js.map
