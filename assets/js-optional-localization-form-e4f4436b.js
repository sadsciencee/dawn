import{q as i,c as o,x as a,s as l}from"./functions-de1108d3.js";import{U as r}from"./UcoastEl-5d53ad84.js";class s extends r{constructor(){super(),this.elements={input:i('input[name="locale_code"], input[name="country_code"]',this),button:i("button",this),panel:i(".disclosure__list-wrapper",this)},this.elements.button.addEventListener("click",this.openSelector.bind(this)),this.elements.button.addEventListener("focusout",this.closeSelector.bind(this)),this.addEventListener("keyup",this.onContainerKeyUp.bind(this)),this.querySelectorAll("a").forEach(e=>e.addEventListener("click",this.onItemClick.bind(this)))}hidePanel(){this.elements.button.setAttribute("aria-expanded","false"),this.elements.panel.setAttribute("hidden","true")}onContainerKeyUp(e){e.code.toUpperCase()==="ESCAPE"&&this.elements.button.getAttribute("aria-expanded")!="false"&&(this.hidePanel(),e.stopPropagation(),this.elements.button.focus())}onItemClick(e){e.preventDefault();const t=this.querySelector("form");this.elements.input.value=o(e).dataset.value??this.elements.input.value,t&&t.submit()}openSelector(){this.elements.button.focus(),this.elements.panel.toggleAttribute("hidden"),this.elements.button.setAttribute("aria-expanded",(this.elements.button.getAttribute("aria-expanded")==="false").toString())}closeSelector(e){const t=a(e),n=this.elements.panel.contains(t)||this.elements.button.contains(t);(!e.relatedTarget||!n)&&this.hidePanel()}}s.htmlSelector="localization-form";l(s);
//# sourceMappingURL=js-optional-localization-form-e4f4436b.js.map
