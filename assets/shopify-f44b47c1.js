import{q as l,g as d}from"./functions-24c9f5aa.js";class u extends HTMLElement{constructor(t,e,n){super(),this.countryEl=l(`#${t}`),this.provinceEl=l(`#${e}`),this.provinceContainer=l(`#${n.hideElement||e}`),r.addListener(this.countryEl,"change",r.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()}initCountry(){const t=d("data-default",this.countryEl);r.setSelectorByValue(this.countryEl,t),this.countryHandler()}initProvince(){var t=this.provinceEl.getAttribute("data-default");t&&this.provinceEl.options.length>0&&r.setSelectorByValue(this.provinceEl,t)}countryHandler(){const t=this.countryEl.options[this.countryEl.selectedIndex],e=d("data-provinces",t),n=JSON.parse(e);if(this.clearOptions(this.provinceEl),n&&n.length==0)this.provinceContainer.style.display="none";else{for(let o=0;o<n.length;o++){const i=document.createElement("option");i.value=n[o][0],i.innerHTML=n[o][1],this.provinceEl.appendChild(i)}this.provinceContainer.style.display=""}}clearOptions(t){for(;t.firstChild;)t.removeChild(t.firstChild)}setOptions(t,e){for(let n=0,o=e.length;n<o;n++){const i=document.createElement("option");i.value=e[n],i.innerHTML=e[n],t.appendChild(i)}}}class r{bind(t,e){return function(){return t.apply(e,arguments)}}static setSelectorByValue(t,e){for(let n=0,o=t.options.length;n<o;n++){const i=t.options[n];if(e==i.value||e==i.innerHTML)return t.selectedIndex=n,n}}static addListener(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}static postLink(t,e){e=e||{};const n=e.method||"post",o=e.parameters||{},i=document.createElement("form");i.setAttribute("method",n),i.setAttribute("action",t);for(const a in o){const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",a),s.setAttribute("value",o[a]),i.appendChild(s)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)}}r.CountryProvinceSelector=function(c,t,e){return new u(c,t,e)};export{r as S};
//# sourceMappingURL=shopify-f44b47c1.js.map
