import{q as n,j as l,a as i,c as o}from"./functions-78fee3e2.js";import{U as h}from"./UcoastEl-7a35b61d.js";function c(r){return!(!r||r.localName!=="slider-component")}class d extends h{constructor(){var t,s;super(),this.currentPage=1,this.slider=n('[id^="Slider-"]',this),this.sliderItems=l('[id^="Slide-"]',this),this.enableSliderLooping=!1,this.currentPageElement=i(".slider-counter--current",this),this.pageTotalElement=i(".slider-counter--total",this),this.prevButton=i('button[name="previous"]',this),this.nextButton=i('button[name="next"]',this),this.initPages(),new ResizeObserver(a=>this.initPages()).observe(this.slider),this.slider.addEventListener("scroll",this.update.bind(this)),(t=this.prevButton)==null||t.addEventListener("click",this.onButtonClick.bind(this)),(s=this.nextButton)==null||s.addEventListener("click",this.onButtonClick.bind(this))}initPages(){this.sliderItemsToShow=Array.from(this.sliderItems).filter(e=>e.clientWidth>0),!(this.sliderItemsToShow.length<2)&&(this.sliderItemOffset=this.sliderItemsToShow[1].offsetLeft-this.sliderItemsToShow[0].offsetLeft,this.slidesPerPage=Math.floor((this.slider.clientWidth-this.sliderItemsToShow[0].offsetLeft)/this.sliderItemOffset),this.totalPages=this.sliderItemsToShow.length-this.slidesPerPage+1,this.update())}resetPages(){this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.initPages()}createSlideChangedEvent(){const e=this.currentPage;if(!e)throw new Error("cannot createSlideChangedEvent - currentPage is undefined");if(!this.sliderItemsToShow)throw new Error("cannot createSlideChangedEvent - sliderItemsToShow is undefined");const t=this.sliderItemsToShow[e-1];if(!t)throw new Error("cannot createSlideChangedEvent - currentElement is undefined");return new CustomEvent("slideChanged",{detail:{currentPage:e,currentElement:t}})}update(){if(!this.slider||!this.nextButton)return;const e=this.currentPage;if(!this.sliderItemOffset||this.sliderItemOffset===0?this.currentPage=1:this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItemOffset)+1,this.currentPageElement&&this.pageTotalElement&&(this.currentPageElement.textContent=`${this.currentPage}`,this.pageTotalElement.textContent=`${this.totalPages}`),this.currentPage!=e)if(this.sliderItemsToShow)this.dispatchEvent(this.createSlideChangedEvent());else throw new Error("sliderItemsToShow is undefined");this.enableSliderLooping||(this.prevButton&&this.sliderItemsToShow&&this.sliderItemsToShow.length&&this.isSlideVisible(this.sliderItemsToShow[0])&&this.slider.scrollLeft===0?this.prevButton.setAttribute("disabled","disabled"):this.prevButton&&this.prevButton.removeAttribute("disabled"),this.nextButton&&this.sliderItemsToShow&&this.sliderItemsToShow.length>0&&this.isSlideVisible(this.sliderItemsToShow[this.sliderItemsToShow.length-1])?this.nextButton.setAttribute("disabled","disabled"):this.nextButton&&this.nextButton.removeAttribute("disabled"))}isSlideVisible(e,t=0){const s=this.slider.clientWidth+this.slider.scrollLeft-t;return e.offsetLeft+e.clientWidth<=s&&e.offsetLeft>=this.slider.scrollLeft}onButtonClick(e){e.preventDefault();const t=o(e);if(!(t instanceof HTMLButtonElement)||!this.sliderItemOffset)return;const s=t.dataset.step?parseInt(t.dataset.step):1;this.slideScrollPosition=t.name==="next"?this.slider.scrollLeft+s*this.sliderItemOffset:this.slider.scrollLeft-s*this.sliderItemOffset,this.setSlidePosition(this.slideScrollPosition)}setSlidePosition(e){this.slider.scrollTo({left:e})}}d.htmlSelector="slider-component";export{d as S,c as i};
//# sourceMappingURL=slider-component-942d8965.js.map
