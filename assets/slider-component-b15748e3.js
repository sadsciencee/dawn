import{q as s,i as n,c as l}from"./functions-24c9f5aa.js";import{U as o}from"./UcoastEl-260a5367.js";function f(r){return!(!r||r.localName!=="slider-component")}class h extends o{constructor(){super(),this.currentPage=1,this.slider=s('[id^="Slider-"]',this),this.sliderItems=n('[id^="Slide-"]',this),this.enableSliderLooping=!1,this.currentPageElement=s(".slider-counter--current",this),this.pageTotalElement=s(".slider-counter--total",this),this.prevButton=s('button[name="previous"]',this),this.nextButton=s('button[name="next"]',this),this.initPages(),new ResizeObserver(t=>this.initPages()).observe(this.slider),this.slider.addEventListener("scroll",this.update.bind(this)),this.prevButton.addEventListener("click",this.onButtonClick.bind(this)),this.nextButton.addEventListener("click",this.onButtonClick.bind(this))}initPages(){this.sliderItemsToShow=Array.from(this.sliderItems).filter(e=>e.clientWidth>0),!(this.sliderItemsToShow.length<2)&&(this.sliderItemOffset=this.sliderItemsToShow[1].offsetLeft-this.sliderItemsToShow[0].offsetLeft,this.slidesPerPage=Math.floor((this.slider.clientWidth-this.sliderItemsToShow[0].offsetLeft)/this.sliderItemOffset),this.totalPages=this.sliderItemsToShow.length-this.slidesPerPage+1,this.update())}resetPages(){this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.initPages()}createSlideChangedEvent(){const e=this.currentPage;if(!e)throw new Error("cannot createSlideChangedEvent - currentPage is undefined");if(!this.sliderItemsToShow)throw new Error("cannot createSlideChangedEvent - sliderItemsToShow is undefined");const t=this.sliderItemsToShow[e-1];if(!t)throw new Error("cannot createSlideChangedEvent - currentElement is undefined");return new CustomEvent("slideChanged",{detail:{currentPage:e,currentElement:t}})}update(){if(!this.slider||!this.nextButton)return;const e=this.currentPage;if(!this.sliderItemOffset||this.sliderItemOffset===0?this.currentPage=1:this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItemOffset)+1,this.currentPageElement&&this.pageTotalElement&&(this.currentPageElement.textContent=`${this.currentPage}`,this.pageTotalElement.textContent=`${this.totalPages}`),this.currentPage!=e)if(this.sliderItemsToShow)this.dispatchEvent(this.createSlideChangedEvent());else throw new Error("sliderItemsToShow is undefined");this.enableSliderLooping||(this.sliderItemsToShow&&this.sliderItemsToShow.length&&this.isSlideVisible(this.sliderItemsToShow[0])&&this.slider.scrollLeft===0?this.prevButton.setAttribute("disabled","disabled"):this.prevButton.removeAttribute("disabled"),this.sliderItemsToShow&&this.sliderItemsToShow.length>0&&this.isSlideVisible(this.sliderItemsToShow[this.sliderItemsToShow.length-1])?this.nextButton.setAttribute("disabled","disabled"):this.nextButton.removeAttribute("disabled"))}isSlideVisible(e,t=0){const i=this.slider.clientWidth+this.slider.scrollLeft-t;return e.offsetLeft+e.clientWidth<=i&&e.offsetLeft>=this.slider.scrollLeft}onButtonClick(e){e.preventDefault();const t=l(e);if(!(t instanceof HTMLButtonElement)||!this.sliderItemOffset)return;const i=t.dataset.step?parseInt(t.dataset.step):1;this.slideScrollPosition=t.name==="next"?this.slider.scrollLeft+i*this.sliderItemOffset:this.slider.scrollLeft-i*this.sliderItemOffset,this.setSlidePosition(this.slideScrollPosition)}setSlidePosition(e){this.slider.scrollTo({left:e})}}h.htmlSelector="slider-component";export{h as S,f as i};
//# sourceMappingURL=slider-component-b15748e3.js.map
