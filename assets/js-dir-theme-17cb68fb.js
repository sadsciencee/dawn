import{q as r,k as w,a as d,c as I,h as _,i as U,b as L,t as S,v as F,e as f,j as W,g as b,s as l}from"./functions-78fee3e2.js";import{D as N}from"./deferred-media-b6922f6c.js";import{D as M}from"./details-disclosure-661efff9.js";import{D as z}from"./details-modal-91c86ca3.js";import{t as y,r as A}from"./global-47ed11f5.js";import{U as m}from"./UcoastEl-7a35b61d.js";import{M as K}from"./modal-dialog-0cc2022b.js";import{s as Q,P as C,p as j,c as J}from"./pubsub-54ee595b.js";import{S as x}from"./slider-component-942d8965.js";import{S as Y}from"./search-form-68be087f.js";class B extends m{constructor(){super(),this.mainDetailsToggle=r("details",this),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach(t=>t.addEventListener("click",this.onSummaryClick.bind(this))),this.querySelectorAll("button:not(.localization-selector)").forEach(t=>t.addEventListener("click",this.onCloseButtonClick.bind(this)))}onKeyUp(t){if(t.code.toUpperCase()!=="ESCAPE")return;const e=w(t,"details[open]");e&&(e===this.mainDetailsToggle?this.closeMenuDrawer(t,d("summary",this.mainDetailsToggle)):this.closeSubmenu(e))}onSummaryClick(t){const e=I(t),i=e.parentNode;if(!(i instanceof HTMLElement))throw new Error("detailsElement is null");const s=_(i,".has-submenu"),n=i.hasAttribute("open"),o=window.matchMedia("(prefers-reduced-motion: reduce)");function a(){const c=e.nextElementSibling;if(!(i instanceof HTMLElement))throw new Error("cannot addTrapFocus, detailsElement is null");if(!(c instanceof HTMLElement))throw new Error("cannot addTrapFocus, nextElementSibling is null");y(c,d("button",i)),c.removeEventListener("transitionend",a)}i===this.mainDetailsToggle?(n&&t.preventDefault(),n?this.closeMenuDrawer(t,e):this.openMenuDrawer(e),window.matchMedia("(max-width: 990px)")&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`)):setTimeout(()=>{var c;i.classList.add("menu-opening"),e.setAttribute("aria-expanded","true"),s&&s.classList.add("submenu-open"),!o||o.matches?a():(c=e.nextElementSibling)==null||c.addEventListener("transitionend",a)},100)}openMenuDrawer(t){setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")}),t.setAttribute("aria-expanded","true"),y(this.mainDetailsToggle,t),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}closeMenuDrawer(t,e=void 0){t!==void 0&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach(i=>{i.removeAttribute("open"),i.classList.remove("menu-opening")}),this.mainDetailsToggle.querySelectorAll(".submenu-open").forEach(i=>{i.classList.remove("submenu-open")}),document.body.classList.remove(`overflow-hidden-${this.dataset.breakpoint}`),A(e),this.closeAnimation(this.mainDetailsToggle),t instanceof KeyboardEvent&&(e==null||e.setAttribute("aria-expanded","false")))}onFocusOut(t){setTimeout(()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer(t)})}onCloseButtonClick(t){const e=U(t,"details");this.closeSubmenu(e)}closeSubmenu(t){const e=t.closest(".submenu-open");e&&e.classList.remove("submenu-open"),t.classList.remove("menu-opening");const i=r("summary",t);i.setAttribute("aria-expanded","false"),A(i),this.closeAnimation(t)}closeAnimation(t){let e;const i=s=>{if(e===void 0&&(e=s),s-e<400)window.requestAnimationFrame(i);else{t.removeAttribute("open");const o=L(t,"details[open]");if(o){const a=r("summary",t);y(o,a)}}};window.requestAnimationFrame(i)}}B.htmlSelector="menu-drawer";class P extends B{constructor(){super(),this.onResize=()=>{this.header&&(this.borderOffset=this.setBorderOffset(),document.documentElement.style.setProperty("--header-bottom-position",`${Math.round(this.header.getBoundingClientRect().bottom-this.borderOffset)}px`),document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`))}}setHeader(){return this.header||r(".section-header")}setBorderOffset(){var t;return this.borderOffset||(t=L(this,".header-wrapper"))!=null&&t.classList.contains("header-wrapper--border-bottom")?1:0}openMenuDrawer(t){this.header=this.setHeader(),this.borderOffset=this.setBorderOffset(),document.documentElement.style.setProperty("--header-bottom-position",`${Math.round(this.header.getBoundingClientRect().bottom-this.borderOffset)}px`),this.header.classList.add("menu-open"),setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")}),t.setAttribute("aria-expanded","true"),window.addEventListener("resize",this.onResize),y(this.mainDetailsToggle,t),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}closeMenuDrawer(t,e=void 0){e&&(this.header=this.setHeader(),super.closeMenuDrawer(t,e),this.header.classList.remove("menu-open"),window.removeEventListener("resize",this.onResize))}}P.htmlSelector="header-drawer";class G extends M{constructor(){super(),this.header=r(".header-wrapper")}onToggle(){this.header&&(this.header.preventHide=this.mainDetailsToggle.open,document.documentElement.style.getPropertyValue("--header-bottom-position-desktop")===""&&document.documentElement.style.setProperty("--header-bottom-position-desktop",`${Math.floor(this.header.getBoundingClientRect().bottom)}px`))}}class D extends m{constructor(){super();const t=this.querySelector("button");t&&t.addEventListener("click",()=>{const e=this.getAttribute("data-modal");if(!e)return;const i=d(e,this);i&&i.show(t)})}}D.htmlSelector="modal-opener";class O extends m{constructor(){super(),this.quantityUpdateUnsubscriber=void 0,this.input=r("input",this),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach(t=>t.addEventListener("click",this.onButtonClick.bind(this)))}connectedCallback(){this.validateQtyRules(),this.quantityUpdateUnsubscriber=Q(C.quantityUpdate,this.validateQtyRules.bind(this))}disconnectedCallback(){this.quantityUpdateUnsubscriber&&this.quantityUpdateUnsubscriber(void 0)}onInputChange(t){this.validateQtyRules()}onButtonClick(t){t.preventDefault();const e=this.input.value;S(t).name==="plus"?this.input.stepUp():this.input.stepDown(),e!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}validateQtyRules(){const t=parseInt(this.input.value);if(this.input.min){const e=parseInt(this.input.min);r(".quantity__button[name='minus']",this).classList.toggle("disabled",t<=e)}if(this.input.max){const e=parseInt(this.input.max);r(".quantity__button[name='plus']",this).classList.toggle("disabled",t>=e)}}}O.htmlSelector="quantity-input";class H extends m{constructor(){super(),r("button",this).addEventListener("click",e=>{this.expandShowMore(e);const i=w(e,".parent-display");if(!i)return;const s=d(".show-more-item:not(.hidden)",i);if(!s)return;const n=d("input",s);n&&n.focus()})}expandShowMore(t){const e=w(t,'[id^="Show-More-"]');if(!e)return;const i=e.closest(".parent-display");!i||!i.querySelector(".parent-wrap")||(this.querySelectorAll(".label-text").forEach(n=>n.classList.toggle("hidden")),i.querySelectorAll(".show-more-item").forEach(n=>n.classList.toggle("hidden")))}}H.htmlSelector="show-more-button";class V extends x{constructor(){var t,e,i,s;super(),this.announcerBarAnimationDelay=0,this.wasClicked=!1,this.autoplaySpeed=0,this.autoplayButtonIsSetToPlay=!1,this.sliderFirstItemNode=r(".slideshow__slide",this.slider),this.sliderControlWrapper=r(".slider-buttons",this),this.enableSliderLooping=!0,this.sliderControlWrapper&&(this.sliderItemsToShow&&this.sliderItemsToShow.length>0&&(this.currentPage=1),this.announcementBarSlider=d(".announcement-bar-slider",this),this.announcerBarAnimationDelay=this.announcementBarSlider?250:0,this.sliderControlLinksArray=Array.from(this.sliderControlWrapper.querySelectorAll(".slider-counter__link")),this.sliderControlLinksArray.forEach(n=>n.addEventListener("click",this.linkToSlide.bind(this))),this.slider.addEventListener("scroll",this.setSlideVisibility.bind(this)),this.setSlideVisibility(),this.announcementBarSlider&&(this.announcementBarArrowButtonWasClicked=!1,this.desktopLayout=window.matchMedia("(min-width: 750px)"),(t=this.desktopLayout)==null||t.addEventListener("change",()=>{this.slider.getAttribute("data-autoplay")==="true"&&this.setAutoPlay()}),this.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)"),(e=this.reducedMotion)==null||e.addEventListener("change",()=>{this.slider.getAttribute("data-autoplay")==="true"&&this.setAutoPlay()}),(i=this.prevButton)==null||i.addEventListener("click",()=>{this.announcementBarArrowButtonWasClicked=!0},{once:!0}),(s=this.nextButton)==null||s.addEventListener("click",()=>{this.announcementBarArrowButtonWasClicked=!0},{once:!0})),this.slider.getAttribute("data-autoplay")==="true"&&this.setAutoPlay())}setAutoPlay(){if(this.autoplaySpeed=this.slider.dataset.speed?parseInt(this.slider.dataset.speed)*1e3:0,this.addEventListener("mouseover",this.focusInHandling.bind(this)),this.addEventListener("mouseleave",this.focusOutHandling.bind(this)),this.addEventListener("focusin",this.focusInHandling.bind(this)),this.addEventListener("focusout",this.focusOutHandling.bind(this)),this.querySelector(".slideshow__autoplay")){if(this.sliderAutoplayButton=d(".slideshow__autoplay",this),!this.sliderAutoplayButton)throw new Error("Autoplay button not found");this.sliderAutoplayButton.addEventListener("click",this.autoPlayToggle.bind(this)),this.autoplayButtonIsSetToPlay=!0,this.play()}else this.reducedMotion&&this.reducedMotion.matches||this.announcementBarArrowButtonWasClicked||this.desktopLayout&&!this.desktopLayout.matches?this.pause():this.play()}onButtonClick(t){if(super.onButtonClick(t),!this.sliderItemsToShow)throw Error("onButtonClick fired before this.sliderItemsToShow was set, in SlideshowComponent class");this.wasClicked=!0;const e=this.currentPage===1,i=this.currentPage===this.sliderItemsToShow.length,s=F(t);if(!(s instanceof HTMLButtonElement))throw Error("currentTarget is not button element in SlideshowComponent class");if(!e&&!i){this.applyAnimationToAnnouncementBar(s.name);return}e&&s.name==="previous"?this.slideScrollPosition=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*this.sliderItemsToShow.length:i&&s.name==="next"&&(this.slideScrollPosition=0),this.setSlidePosition(this.slideScrollPosition??0),this.applyAnimationToAnnouncementBar(s.name)}setSlidePosition(t){this.setPositionTimeout&&clearTimeout(this.setPositionTimeout),this.setPositionTimeout=setTimeout(()=>{this.slider.scrollTo({left:t})},this.announcerBarAnimationDelay)}update(){var t;if(super.update(),!this.currentPage)throw Error("this.currentPage is not set in SlideshowComponent class");this.sliderControlButtons=f(".slider-counter__link",this),(t=this.prevButton)==null||t.removeAttribute("disabled"),this.sliderControlButtons&&(this.sliderControlButtons.forEach(e=>{e.classList.remove("slider-counter__link--active"),e.removeAttribute("aria-current")}),this.sliderControlButtons[this.currentPage-1].classList.add("slider-counter__link--active"),this.sliderControlButtons[this.currentPage-1].setAttribute("aria-current","true"))}autoPlayToggle(){this.togglePlayButtonState(this.autoplayButtonIsSetToPlay),this.autoplayButtonIsSetToPlay?this.pause():this.play(),this.autoplayButtonIsSetToPlay=!this.autoplayButtonIsSetToPlay}focusOutHandling(t){if(this.sliderAutoplayButton){const e=S(t),i=t.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(e);if(!this.autoplayButtonIsSetToPlay||i)return;this.play()}else this.reducedMotion&&!this.reducedMotion.matches&&!this.announcementBarArrowButtonWasClicked&&this.desktopLayout&&this.desktopLayout.matches&&this.play()}focusInHandling(t){const e=S(t);this.sliderAutoplayButton?(t.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(e))&&this.autoplayButtonIsSetToPlay?this.play():this.autoplayButtonIsSetToPlay&&this.pause():this.announcementBarSlider&&this.announcementBarSlider.contains(e)&&this.pause()}play(){this.slider.setAttribute("aria-live","off"),clearInterval(this.autoplay),this.autoplay=setInterval(this.autoRotateSlides.bind(this),this.autoplaySpeed)}pause(){this.slider.setAttribute("aria-live","polite"),clearInterval(this.autoplay)}togglePlayButtonState(t){if(!this.sliderAutoplayButton)throw new Error("togglePlayButtonState called early - no autoplay button found");t?(this.sliderAutoplayButton.classList.add("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label",window.accessibilityStrings.playSlideshow)):(this.sliderAutoplayButton.classList.remove("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label",window.accessibilityStrings.pauseSlideshow))}autoRotateSlides(){if(!this.sliderItemOffset)throw new Error("autoRotateSlides called early - no sliderItemOffset found");const t=this.currentPage===this.sliderItems.length?0:this.slider.scrollLeft+this.sliderItemOffset;this.setSlidePosition(t),this.applyAnimationToAnnouncementBar()}setSlideVisibility(t=void 0){if(this.sliderItemsToShow)this.sliderItemsToShow.forEach((e,i)=>{const s=e.querySelectorAll("a");if(!this.currentPage)throw new Error("setSlideVisibility called early - no currentPage found");i===this.currentPage-1?(s.length&&s.forEach(n=>{n.removeAttribute("tabindex")}),e.setAttribute("aria-hidden","false"),e.removeAttribute("tabindex")):(s.length&&s.forEach(n=>{n.setAttribute("tabindex","-1")}),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"))});else throw new Error("setSlideVisibility called too early");this.wasClicked=!1}applyAnimationToAnnouncementBar(t="next"){if(!this.announcementBarSlider)return;if(!this.currentPage)throw new Error("applyAnimationToAnnouncementBar called early - no currentPage found");const e=this.sliderItems.length,i=t==="next"?1:-1,s=this.currentPage-1;let n=(s+i)%e;n=n===-1?e-1:n;const o=this.sliderItems[n],a=this.sliderItems[s],c="announcement-bar-slider--fade-in",p="announcement-bar-slider--fade-out",u=s===0,g=s===e-1,v=t==="next"&&!g||t==="previous"&&u?"next":"previous";a.classList.add(`${p}-${v}`),o.classList.add(`${c}-${v}`),setTimeout(()=>{a.classList.remove(`${p}-${v}`),o.classList.remove(`${c}-${v}`)},this.announcerBarAnimationDelay*2)}linkToSlide(t){if(t.preventDefault(),!this.sliderControlLinksArray||!this.currentPage)throw new Error("linkToSlide called early - no sliderControlLinksArray or currentPage found");const e=I(t),i=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*(this.sliderControlLinksArray.indexOf(e)+1-this.currentPage);this.slider.scrollTo({left:i})}}V.htmlSelector="slideshow-component";class $ extends m{constructor(){super(),this.preventHide=!1,this.preventReveal=!1,this.headerBounds={},this.currentScrollTop=0,this.header=r(".section-header")}connectedCallback(){this.header=r(".section-header"),this.headerIsAlwaysSticky=this.getAttribute("data-sticky-type")==="always"||this.getAttribute("data-sticky-type")==="reduce-logo-size",this.headerBounds={},this.setHeaderHeight(),window.matchMedia("(max-width: 990px)").addEventListener("change",this.setHeaderHeight.bind(this)),this.headerIsAlwaysSticky&&this.header&&this.header.classList.add("shopify-section-header-sticky"),this.currentScrollTop=0,this.preventReveal=!1,this.predictiveSearch=d("predictive-search",this),this.onScrollHandler=this.onScroll.bind(this),this.hideHeaderOnScrollUp=()=>this.preventReveal=!0,this.addEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.addEventListener("scroll",this.onScrollHandler,!1),this.createObserver()}setHeaderHeight(){if(!this.header)throw new Error("no header element found");document.documentElement.style.setProperty("--header-height",`${this.header.offsetHeight}px`)}disconnectedCallback(){this.removeEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.removeEventListener("scroll",this.onScrollHandler)}createObserver(){console.log("createObserver"),new IntersectionObserver((e,i)=>{this.headerBounds=e[0].intersectionRect,i.disconnect()}).observe(this.header)}onScroll(){const t=window.pageYOffset||document.documentElement.scrollTop;if(!(this.predictiveSearch&&this.predictiveSearch.isOpen)){if(this.headerBounds instanceof DOMRectReadOnly&&t>this.currentScrollTop&&t>this.headerBounds.bottom){if(this.header.classList.add("scrolled-past-header"),this.preventHide)return;requestAnimationFrame(this.hide.bind(this))}else this.headerBounds instanceof DOMRectReadOnly&&t<this.currentScrollTop&&t>this.headerBounds.bottom?(this.header.classList.add("scrolled-past-header"),this.preventReveal?(window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.preventReveal=!1},66),requestAnimationFrame(this.hide.bind(this))):requestAnimationFrame(this.reveal.bind(this))):this.headerBounds instanceof DOMRectReadOnly&&t<=this.headerBounds.top?(this.header.classList.remove("scrolled-past-header"),requestAnimationFrame(this.reset.bind(this))):this.headerBounds instanceof DOMRectReadOnly||(console.warn("onScroll used in sticky-header but headerBounds is not initialized"),console.log("headerBounds",this.headerBounds));this.currentScrollTop=t}}hide(){this.headerIsAlwaysSticky||(this.header.classList.add("shopify-section-header-hidden","shopify-section-header-sticky"),this.closeMenuDisclosure(),this.closeSearchModal())}reveal(){this.headerIsAlwaysSticky||(this.header.classList.add("shopify-section-header-sticky","animate"),this.header.classList.remove("shopify-section-header-hidden"))}reset(){this.headerIsAlwaysSticky||this.header.classList.remove("shopify-section-header-hidden","shopify-section-header-sticky","animate")}closeMenuDisclosure(){this.disclosures=this.disclosures||this.header.querySelectorAll("header-menu"),this.disclosures.forEach(t=>t.close())}closeSearchModal(){this.searchModal=this.searchModal??r("details-modal",this.header),this.searchModal.close(!1)}}$.htmlSelector="sticky-header";class T extends m{constructor(){super(),this.notification=r("#cart-notification"),this.header=r("sticky-header"),this.onBodyClick=this.handleBodyClick.bind(this),this.notification.addEventListener("keyup",t=>t.code==="Escape"&&this.close()),this.querySelectorAll('button[type="button"]').forEach(t=>t.addEventListener("click",this.close.bind(this)))}open(){this.notification.classList.add("animate","active"),this.notification.addEventListener("transitionend",()=>{this.notification.focus(),y(this.notification)},{once:!0}),document.body.addEventListener("click",this.onBodyClick)}close(){this.notification.classList.remove("active"),document.body.removeEventListener("click",this.onBodyClick),A(this.activeElement)}renderContents(t){console.log({parsedState:t}),this.cartItemKey=t.key,this.getSectionsToRender().forEach(e=>{const i=e.id;if(!i)throw new Error("section.id is not set");const s=r(`#${i}`);s.innerHTML=this.getSectionInnerHTML(t.sections[i],e.selector)}),this.header&&this.header.reveal(),this.open()}getSectionsToRender(){return[{id:"cart-notification-product",selector:this.cartItemKey?`[id="cart-notification-product-${this.cartItemKey}"]`:void 0},{id:"cart-notification-button"},{id:"cart-icon-bubble"}]}getSectionInnerHTML(t,e=".shopify-section"){const i=new DOMParser().parseFromString(t,"text/html");return r(e,i.documentElement).innerHTML}handleBodyClick(t){const e=S(t),i=L(e,"cart-notification");if(e!==this.notification&&!i){const s=w(t,"details-disclosure, header-menu");this.activeElement=s?r("summary",s):void 0,this.close()}}setActiveElement(t){this.activeElement=t}}T.htmlSelector="cart-notification";customElements.define("cart-notification",T);class k extends m{constructor(){super(),this.addEventListener("change",this.onVariantChange)}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.toggleAddButton(!0,"",!1),this.updatePickupAvailability(),this.removeErrorMessage(),this.updateVariantStatuses(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateShareUrl()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(W("select",this),t=>t.value)}updateMasterId(){this.currentVariant=this.getVariantData().find(t=>!t.options.map((e,i)=>this.options&&this.options[i]===e).includes(!1))}updateMedia(){const t=this.currentVariant;if(!t||!t.featured_media)return;const e=f(`[id^="MediaGallery-${this.dataset.section}"]`);e==null||e.forEach(n=>n.setActiveMedia(`${this.dataset.section}-${t.featured_media.id}`,!0));const i=d(`#ProductModal-${this.dataset.section} .product-media-modal__content`);if(!i)return;const s=r(`[data-media-id="${t.featured_media.id}"]`,i);i.prepend(s)}updateURL(){!this.currentVariant||this.dataset.updateUrl==="false"||window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateShareUrl(){if(!this.currentVariant)throw new Error("cannot updateShareUrl without currentVariant");const t=d(`#Share-${this.dataset.section}`);!t||!t.updateUrl||t.updateUrl(`${window.shopUrl}${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){const t=this.currentVariant;if(!t)throw new Error("cannot updateVariantInput without currentVariant");const e=f(`#product-form-${this.dataset.section}, #product-form-installment-${this.dataset.section}`);e==null||e.forEach(i=>{const s=r('input[name="id"]',i);s.value=`${t.id}`,s.dispatchEvent(new Event("change",{bubbles:!0}))})}getVariantOptionFromIndex(t,e){switch(e){case 1:return t.option1;case 2:return t.option2;case 3:return t.option3;default:throw new Error("invalid index")}}updateVariantStatuses(){if(!this.variantData)throw new Error("cannot updateVariantStatuses without variantData");const t=this.variantData.filter(s=>r(":checked",this).value===s.option1),e=f(".product-form__input",this),i=e!=null&&e.length?Array.from(e):[];i.length?i.forEach((s,n)=>{if(n===0)return;const o=f('input[type="radio"], option',s),a=o!=null&&o.length?Array.from(o):[],c=r(":checked",i[n-1]).value,p=t.filter(u=>u.available&&this.getVariantOptionFromIndex(u,n)===c).map(u=>this.getVariantOptionFromIndex(u,n+1));this.setInputAvailability(a,p)}):console.warn("no input wrappers found")}setInputAvailability(t,e){t.forEach(i=>{e.includes(i.getAttribute("value"))?i.innerText=b("value",i):i.innerText=window.variantStrings.unavailable_with_option.replace("[value]",b("value",i))})}updatePickupAvailability(){const t=d("pickup-availability");if(!t)return;const e=this.currentVariant;e&&e.available?t.fetchAvailability(`${e.id}`):(t.removeAttribute("available"),t.innerHTML="")}removeErrorMessage(){const t=this.closest("section");if(!t)return;const e=d("product-form",t);e&&e.handleErrorMessage()}renderProductInfo(){if(!this.currentVariant)throw new Error("this.currentVariant not selected, renderProductInfo called too early");const t=this.currentVariant.id,e=this.dataset.originalSection?this.dataset.originalSection:b("data-section",this);fetch(`${this.dataset.url}?variant=${t}&section_id=${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`).then(i=>i.text()).then(i=>{if(!this.currentVariant)throw new Error("this.currentVariant not selected, renderProductInfo called too early");if(this.currentVariant.id!==t)return;const s=new DOMParser().parseFromString(i,"text/html"),n=document.getElementById(`price-${this.dataset.section}`),o=s.getElementById(`price-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`),a=s.getElementById(`Sku-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`),c=document.getElementById(`Sku-${this.dataset.section}`),p=d(`#Inventory-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`,s),u=document.getElementById(`Inventory-${this.dataset.section}`);o&&n&&(n.innerHTML=o.innerHTML),p&&u&&(u.innerHTML=p.innerHTML),a&&c&&(c.innerHTML=a.innerHTML,c.classList.toggle("visibility-hidden",a.classList.contains("visibility-hidden")));const g=document.getElementById(`price-${this.dataset.section}`);g&&g.classList.remove("visibility-hidden"),u&&u.classList.toggle("visibility-hidden",(p==null?void 0:p.innerText)==="");const E=s.getElementById(`ProductSubmitButton-${e}`);this.toggleAddButton(E?E.hasAttribute("disabled"):!0,window.variantStrings.soldOut),j(C.variantChange,J({source:"product-form",data:{sectionId:e,html:s,variant:this.currentVariant}}))})}toggleAddButton(t=!0,e,i=!0){const s=r(`#product-form-${this.dataset.section}`);if(!s)return;const n=d('[name="add"]',s),o=d('[name="add"] > span',s);!n||!o||(t?(n.setAttribute("disabled","disabled"),e&&(o.textContent=e)):(n.removeAttribute("disabled"),o.textContent=window.variantStrings.addToCart))}setUnavailable(){const t=r(`#product-form-${this.dataset.section}`),e=d('[name="add"]',t),i=d('[name="add"] > span',t),s=document.getElementById(`price-${this.dataset.section}`),n=document.getElementById(`Inventory-${this.dataset.section}`),o=document.getElementById(`Sku-${this.dataset.section}`);!e||!i||(i.textContent=window.variantStrings.unavailable,s&&s.classList.add("visibility-hidden"),n&&n.classList.add("visibility-hidden"),o&&o.classList.add("visibility-hidden"))}getVariantData(){const t=r('[type="application/json"]',this).textContent;if(!t)throw new Error("Variant data not found");const e=this.variantData??JSON.parse(t);return this.variantData=e,e}}k.htmlSelector="variant-selects";class q extends k{constructor(){super()}setInputAvailability(t,e){t.forEach(i=>{e.includes(i.getAttribute("value"))?i.classList.remove("disabled"):i.classList.add("disabled")})}updateOptions(){const t=f("fieldset",this);if(!t)throw new Error("cannot do updateOptions in variant-radios, no fieldset nodes found");const e=Array.from(t);this.options=e.map(i=>{const s=f("input",i);if(!s)throw new Error("cannot do updateOptions in variant-radios, no input nodes found");const o=Array.from(s).find(a=>a.checked);if(!o)throw new Error("cannot do updateOptions in variant-radios, no checked input found");return o.value})}}q.htmlSelector="variant-radios";class R extends m{constructor(){super()}connectedCallback(){const t=(e,i)=>{if(!e[0].isIntersecting)return;i.unobserve(this);const s=b("data-url",this);fetch(s).then(n=>n.text()).then(n=>{const o=document.createElement("div");o.innerHTML=n;const a=d("product-recommendations",o);a&&a.innerHTML.trim().length&&(this.innerHTML=a.innerHTML),!this.querySelector("slideshow-component")&&this.classList.contains("complementary-products")&&this.remove(),o.querySelector(".grid__item")&&this.classList.add("product-recommendations--loaded")}).catch(n=>{console.error(n)})};new IntersectionObserver(t.bind(this),{rootMargin:"0px 0px 400px 0px"}).observe(this)}}R.htmlSelector="product-recommendations";l(O);l(B);l(P);l(K);l(D);l(N);l(x);l(V);l(k);l(q);l(R);l(H);l($);l(M);l(G);l(z);l(T);l(Y);
//# sourceMappingURL=js-dir-theme-17cb68fb.js.map
