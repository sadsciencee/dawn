@import '../../global/variables.scss';
@import '../../global/functions.scss';
.product {
	margin: 0;
}

.product.grid {
	gap: 0;
}

.product--no-media {
	max-width: 57rem;
	margin: 0 auto;
}

.product__media-wrapper {
	padding-left: 0;
}

/* Dynamic checkout */

.shopify-payment-button__button {
	font-family: inherit;
	min-height: #{$ax46};
}

.shopify-payment-button__button [role='button'].focused,
.no-js .shopify-payment-button__button [role='button']:focus {
	outline: #{$ax2} solid rgba(#{$schemaColorForeground}, 0.5) !important;
	outline-offset: #{$ax3};
	box-shadow: 0 0 0 #{$ax1} rgba(#{$schemaColorButton}, var(--alpha-button-border)),
		0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 #{$ax5} #{$ax4} rgba(#{$schemaColorForeground}, 0.3) !important;
}

.shopify-payment-button__button [role='button']:focus:not(:focus-visible) {
	outline: 0;
	box-shadow: none !important;
}

.shopify-payment-button__button [role='button']:focus-visible {
	outline: #{$ax2} solid rgba(#{$schemaColorForeground}, 0.5) !important;
	box-shadow: 0 0 0 #{$ax1} rgba(#{$schemaColorButton}, var(--alpha-button-border)),
		0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 #{$ax5} #{$ax4} rgba(#{$schemaColorForeground}, 0.3) !important;
}

.shopify-payment-button__button--unbranded {
	background-color: rgba(#{$schemaColorButton}, var(--alpha-button-background));
	color: rgb(#{$schemaColorButtonText});
	font-size: #{$ax14};
	line-height: calc(1 + 0.2 / #{$fontBodyScale});
	letter-spacing: 0.07rem;
}

.shopify-payment-button__button--unbranded::selection {
	background-color: rgba(#{$schemaColorButtonText}, 0.3);
}

.shopify-payment-button__button--unbranded:hover,
.shopify-payment-button__button--unbranded:hover:not([disabled]) {
	background-color: rgba(#{$schemaColorButton}, var(--alpha-button-background));
}

.shopify-payment-button__more-options {
	margin: #{$ax16} 0 1rem;
	font-size: #{$ax12};
	line-height: calc(1 + 0.5 / #{$fontBodyScale});
	letter-spacing: 0.05rem;
	text-decoration: underline;
	text-underline-offset: #{$ax3};
}

.shopify-payment-button__button + .shopify-payment-button__button--hidden {
	display: none;
}

/* Product form */

.product-form {
	display: block;
}

.product-form__error-message-wrapper:not([hidden]) {
	display: flex;
	align-items: flex-start;
	font-size: #{$ax12};
	margin-bottom: #{$ax15};
}

.product-form__error-message-wrapper svg {
	flex-shrink: 0;
	width: #{$ax12};
	height: #{$ax12};
	margin-right: #{$ax7};
	margin-top: #{$ax5};
}

/* Form Elements */
.product-form__input {
	flex: 0 0 100%;
	padding: 0;
	margin: 0 0 #{$ax12} 0;
	max-width: 44rem;
	min-width: fit-content;
	border: none;
}

variant-radios,
variant-selects {
	display: block;
}

.product-form__input--dropdown {
	margin-bottom: #{$ax16};
}

.product-form__input .form__label {
	padding-left: 0;
}

fieldset.product-form__input .form__label {
	margin-bottom: #{$ax2};
}

.product-form__input input[type='radio'] {
	clip: rect(0, 0, 0, 0);
	overflow: hidden;
	position: absolute;
	height: 1px;
	width: 1px;
}

.product-form__input input[type='radio'] + label {
	border: #{$variantPillsBorderWidth} solid
		rgba(#{$schemaColorForeground}, #{$variantPillsBorderOpacity});
	background-color: rgb(#{$schemaColorBackground});
	color: rgba(#{$schemaColorForeground});
	border-radius: #{$variantPillsRadius};
	color: rgb(#{$schemaColorForeground});
	display: inline-block;
	margin: #{$ax7} #{$ax5} #{$ax2} 0;
	padding: 1rem 2rem;
	font-size: #{$ax14};
	letter-spacing: 0.00714em;
	line-height: 1;
	text-align: center;
	transition: border var(--duration-short) ease;
	cursor: pointer;
	position: relative;
}

.product-form__input input[type='radio'] + label:before {
	content: '';
	position: absolute;
	top: calc(#{$variantPillsBorderWidth} * -1);
	right: calc(#{$variantPillsBorderWidth} * -1);
	bottom: calc(#{$variantPillsBorderWidth} * -1);
	left: calc(#{$variantPillsBorderWidth} * -1);
	z-index: -1;
	border-radius: #{$variantPillsRadius};
	box-shadow: #{$variantPillsShadowHorizontalOffset}
		#{$variantPillsShadowVerticalOffset} #{$variantPillsShadowBlurRadius}
		rgba(#{$schemaColorShadow}, #{$variantPillsShadowOpacity});
}

.product-form__input input[type='radio'] + label:hover {
	border-color: rgb(#{$schemaColorForeground});
}

.product-form__input input[type='radio']:checked + label {
	background-color: rgb(#{$schemaColorForeground});
	color: rgb(#{$schemaColorBackground});
}

.product-form__input input[type='radio']:not(.disabled) + label > .visually-hidden {
	display: none;
}

@media screen and (forced-colors: active) {
	.product-form__input input[type='radio']:checked + label {
		text-decoration: underline;
	}
}

.product-form__input input[type='radio']:checked + label::selection {
	background-color: rgba(#{$schemaColorBackground}, 0.3);
}

.product-form__input input[type='radio']:disabled + label,
.product-form__input input[type='radio'].disabled + label {
	border-color: rgba(#{$schemaColorForeground}, 0.1);
	color: rgba(#{$schemaColorForeground}, 0.6);
	text-decoration: line-through;
}

.product-form__input input[type='radio'].disabled:checked + label,
.product-form__input input[type='radio']:disabled:checked + label {
	color: rgba(#{$schemaColorBackground}, 0.6);
}
.product-form__input input[type='radio']:focus-visible + label {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0 #{$ax5} rgba(#{$schemaColorForeground}, 0.55);
}

/* Fallback */
.product-form__input input[type='radio'].focused + label,
.no-js .shopify-payment-button__button [role='button']:focus + label {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0 #{$ax5} rgba(#{$schemaColorForeground}, 0.55);
}

/* No outline when focus-visible is available in the browser */
.no-js .product-form__input input[type='radio']:focus:not(:focus-visible) + label {
	box-shadow: none;
}

.product-form__input .select {
	max-width: 25rem;
}

.product-form__submit {
	margin-bottom: 1rem;
}

.no-js .product-form__submit.button--secondary {
	--c-button: inherit;
	--c-button-text: inherit;
	--alpha-button-background: 1;
}

.product-form__submit[aria-disabled='true']
	+ .shopify-payment-button
	.shopify-payment-button__button[disabled],
.product-form__submit[disabled]
	+ .shopify-payment-button
	.shopify-payment-button__button[disabled] {
	cursor: not-allowed;
	opacity: 0.5;
}

@media screen and (forced-colors: active) {
	.product-form__submit[aria-disabled='true'] {
		color: Window;
	}
}

/* Overrides */
.shopify-payment-button__more-options {
	color: rgb(#{$schemaColorForeground});
}

.shopify-payment-button__button {
	font-size: #{$ax15};
	letter-spacing: 0.00667em;
}

/* Product info */

.product__info-container > * + * {
	margin: #{$ax15} 0;
}

.product__info-container iframe {
	max-width: 100%;
}

.product__info-container .product-form,
.product__info-container .product__description,
.product__info-container .icon-with-text {
	margin: #{$ax25} 0;
}

.product__text {
	margin-bottom: 0;
}

a.product__text {
	display: block;
	text-decoration: none;
	color: rgba(#{$schemaColorForeground}, 0.75);
}

.product__text.caption-with-letter-spacing {
	text-transform: uppercase;
}

.product__title {
	word-break: break-word;
	margin-bottom: #{$ax15};
}

.product__title > * {
	margin: 0;
}

.product__title > a {
	display: none;
}

.product__title + .product__text.caption-with-letter-spacing {
	margin-top: #{ax(-15)};
}

.product__text.caption-with-letter-spacing + .product__title {
	margin-top: 0;
}

.product__accordion .accordion__content {
	padding: 0 1rem;
}

.product .price .badge {
	margin-bottom: #{$ax5};
}

.product .price__container {
	margin-bottom: #{$ax5};
}

.product .price dl {
	margin-top: #{$ax5};
	margin-bottom: #{$ax5};
}

.product .price--sold-out .price__badge-sale {
	display: none;
}

.product__description-title {
	font-weight: 600;
}

.product--no-media .product__title,
.product--no-media .product__text,
.product--no-media noscript .product-form__input,
.product--no-media .product__tax,
.product--no-media .product__sku,
.product--no-media shopify-payment-terms {
	text-align: center;
}

.product--no-media .product__media-wrapper,
.product--no-media .product__info-wrapper {
	padding: 0;
}

.product__tax {
	margin-top: ax(-14);
}

.product--no-media noscript .product-form__input,
.product--no-media .share-button {
	max-width: 100%;
}

.product--no-media fieldset.product-form__input,
.product--no-media .product-form__quantity,
.product--no-media .product-form__input--dropdown,
.product--no-media .share-button,
.product--no-media .product__view-details,
.product--no-media .product__pickup-availabilities,
.product--no-media .product-form {
	display: flex;
	align-items: center;
	justify-content: center;
	text-align: center;
}

.product--no-media .product-form {
	flex-direction: column;
}

.product--no-media .product-form > .form {
	max-width: 30rem;
	width: 100%;
}

.product--no-media .product-form__quantity,
.product--no-media .product-form__input--dropdown {
	flex-direction: column;
	max-width: 100%;
}

.product-form__quantity .form__label {
	margin-bottom: #{$ax6};
}

.product-form__quantity-top .form__label {
	margin-bottom: #{$ax12};
}

.product--no-media fieldset.product-form__input {
	flex-wrap: wrap;
	margin: 0 auto #{$ax12} auto;
}

.product-form__buttons {
	max-width: 44rem;
}

.product--no-media .product__info-container > modal-opener {
	display: block;
	text-align: center;
}

.product--no-media .product-popup-modal__button {
	padding-right: 0;
}

.product--no-media .price {
	text-align: center;
}

/* Product media */
.product__media-list video {
	border-radius: calc(#{$mediaRadius} - #{$mediaBorderWidth});
}

@include media-query($s-down) {
	.product__media-list {
		margin-left: ax(-25);
		margin-bottom: 3rem;
		width: calc(100% + 4rem);
	}

	.product__media-wrapper slider-component:not(.thumbnail-slider--no-slide) {
		margin-left: #{ax(-15)};
		margin-right: #{ax(-15)};
	}

	.slider.product__media-list::-webkit-scrollbar {
		height: #{$ax2};
		width: #{$ax2};
	}

	.product__media-list::-webkit-scrollbar-thumb {
		background-color: rgb(#{$schemaColorForeground});
	}

	.product__media-list::-webkit-scrollbar-track {
		background-color: rgba(#{$schemaColorForeground}, 0.2);
	}

	.product__media-list .product__media-item {
		width: calc(100% - 3rem - #{$xSpacingMobile});
	}

	.product--mobile-columns .product__media-item {
		width: calc(50% - #{$ax15} - #{$xSpacingMobile});
	}
}

.product__media-item.product__media-item--variant {
	display: none;
}

.product__media-item--variant:first-child {
	display: block;
}

.product__media-icon .icon {
	width: #{$ax12};
	height: #{$ax14};
}

.product__media-icon,
.thumbnail__badge {
	background-color: rgb(#{$schemaColorBackground});
	border-radius: 50%;
	border: #{$ax1} solid rgba(#{$schemaColorForeground}, 0.1);
	color: rgb(#{$schemaColorForeground});
	display: flex;
	align-items: center;
	justify-content: center;
	height: 3rem;
	width: 3rem;
	position: absolute;
	left: #{$ax12};
	top: #{$ax12};
	z-index: 1;
	transition: color var(--duration-short) ease, opacity var(--duration-short) ease;
}

.product__media-video .product__media-icon {
	opacity: 1;
}

.product__modal-opener--image .product__media-toggle:hover {
	cursor: zoom-in;
}

.product__modal-opener:hover .product__media-icon {
	border: #{$ax1} solid rgba(#{$schemaColorForeground}, 0.1);
}

.product__media-item > * {
	display: block;
	position: relative;
}

.product__media-toggle {
	display: flex;
	border: none;
	background-color: transparent;
	color: currentColor;
	padding: 0;
}

.product__media-toggle::after {
	content: '';
	cursor: pointer;
	display: block;
	margin: 0;
	padding: 0;
	position: absolute;
	top: calc(var(--border-width) * -1);
	right: calc(var(--border-width) * -1);
	bottom: calc(var(--border-width) * -1);
	left: calc(var(--border-width) * -1);
	z-index: 2;
}

.product__media-toggle:focus-visible {
	outline: 0;
	box-shadow: none;
}

/* outline styling for Windows High Contrast Mode */
@media (forced-colors: active) {
	.product__media-toggle:focus-visible,
	.product__media-toggle:focus-visible:after,
	.product-form__input input[type='radio']:focus-visible + label {
		outline: transparent solid 1px;
		outline-offset: 2px;
	}
}
.product__media-toggle.focused {
	outline: 0;
	box-shadow: none;
}

.product__media-toggle:focus-visible:after {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0rem #{$ax5} rgba(#{$schemaColorForeground}, 0.5);
	border-radius: #{$mediaRadius};
}

.product__media-toggle.focused:after {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0rem #{$ax5} rgba(#{$schemaColorForeground}, 0.5);
	border-radius: #{$mediaRadius};
}

.product-media-modal {
	background-color: rgb(#{$schemaColorBackground});
	height: 100%;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	visibility: hidden;
	opacity: 0;
	z-index: -1;
}

.product-media-modal[open] {
	visibility: visible;
	opacity: 1;
	z-index: 101;
}

.product-media-modal__dialog {
	display: flex;
	align-items: center;
	height: 100vh;
}

.product-media-modal__content {
	max-height: 100vh;
	width: 100%;
	overflow: auto;
}

.product-media-modal__content > *:not(.active),
.product__media-list .deferred-media {
	display: none;
}

@include media-query($s-down) {
	.product--thumbnail .is-active .product__modal-opener:not(.product__modal-opener--image),
	.product--thumbnail_slider
		.is-active
		.product__modal-opener:not(.product__modal-opener--image) {
		display: none;
	}

	.product--thumbnail .is-active .deferred-media,
	.product--thumbnail_slider .is-active .deferred-media {
		display: block;
		width: 100%;
	}
}

.product-media-modal__content > * {
	display: block;
	height: auto;
	margin: auto;
}

.product-media-modal__content .media {
	background: none;
}

.product-media-modal__model {
	width: 100%;
}

.product-media-modal__toggle {
	background-color: rgb(#{$schemaColorBackground});
	border: #{$ax1} solid rgba(#{$schemaColorForeground}, 0.1);
	border-radius: 50%;
	color: rgba(#{$schemaColorForeground}, 0.55);
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	right: 2rem;
	padding: #{$ax12};
	position: fixed;
	z-index: 2;
	top: 2rem;
	width: 4rem;
}

.product-media-modal__content .deferred-media {
	width: 100%;
}

.product-media-modal__toggle:hover {
	color: rgba(#{$schemaColorForeground}, 0.75);
}

.product-media-modal__toggle .icon {
	height: auto;
	margin: 0;
	width: #{$ax22};
}

/* Product popup */

.product-popup-modal {
	box-sizing: border-box;
	opacity: 0;
	position: fixed;
	visibility: hidden;
	z-index: -1;
	margin: 0 auto;
	top: 0;
	left: 0;
	overflow: auto;
	width: 100%;
	background: rgba(#{$schemaColorForeground}, 0.2);
	height: 100%;
}

.product-popup-modal[open] {
	opacity: 1;
	visibility: visible;
	z-index: 101;
}

.product-popup-modal__content {
	border-radius: #{$popupCornerRadius};
	background-color: rgb(#{$schemaColorBackground});
	overflow: auto;
	height: 80%;
	margin: 0 auto;
	left: 50%;
	transform: translateX(-50%);
	margin-top: 5rem;
	width: 92%;
	position: absolute;
	top: 0;
	padding: 0 #{$ax15} 0 3rem;
	border-color: rgba(#{$schemaColorForeground}, #{$popupBorderOpacity});
	border-style: solid;
	border-width: #{$popupBorderWidth};
	box-shadow: #{$popupShadowHorizontalOffset} #{$popupShadowVerticalOffset}
		#{$popupShadowBlurRadius} rgba(#{$schemaColorShadow}, #{$popupShadowOpacity});
}

.product-popup-modal__content.focused {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 #{$ax5} #{$ax4} rgba(#{$schemaColorForeground}, 0.3),
		#{$popupShadowHorizontalOffset} #{$popupShadowVerticalOffset}
			#{$popupShadowBlurRadius} rgba(#{$schemaColorShadow}, #{$popupShadowOpacity});
}

.product-popup-modal__content:focus-visible {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 #{$ax5} #{$ax4} rgba(#{$schemaColorForeground}, 0.3),
		#{$popupShadowHorizontalOffset} #{$popupShadowVerticalOffset}
			#{$popupShadowBlurRadius} rgba(#{$schemaColorShadow}, #{$popupShadowOpacity});
}

.product-popup-modal__content img {
	max-width: 100%;
}

@include media-query($s-down) {
	.product-popup-modal__content table {
		display: block;
		max-width: fit-content;
		overflow-x: auto;
		white-space: nowrap;
		margin: 0;
	}

	.product-media-modal__dialog .global-media-settings,
	.product-media-modal__dialog .global-media-settings video,
	.product-media-modal__dialog .global-media-settings model-viewer,
	.product-media-modal__dialog .global-media-settings iframe,
	.product-media-modal__dialog .global-media-settings img {
		border: none;
		border-radius: 0;
	}
}

.product-popup-modal__opener {
	display: inline-block;
}

.product-popup-modal__button {
	font-size: #{$ax16};
	padding-right: #{$ax13};
	padding-left: 0;
	min-height: #{$ax44};
	text-underline-offset: #{$ax3};
	text-decoration-thickness: #{$ax1};
	transition: text-decoration-thickness var(--duration-short) ease;
}

.product-popup-modal__button:hover {
	text-decoration-thickness: #{$ax2};
}

.product-popup-modal__content-info {
	padding-right: #{$ax44};
}

.product-popup-modal__content-info > * {
	height: auto;
	margin: 0 auto;
	max-width: 100%;
	width: 100%;
}

@include media-query($s-down) {
	.product-popup-modal__content-info > * {
		max-height: 100%;
	}
}

.product-popup-modal__toggle {
	background-color: rgb(#{$schemaColorBackground});
	border: #{$ax1} solid rgba(#{$schemaColorForeground}, 0.1);
	border-radius: 50%;
	color: rgba(#{$schemaColorForeground}, 0.55);
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	position: sticky;
	padding: #{$ax12};
	z-index: 2;
	top: #{$ax15};
	width: 4rem;
	margin: 0 0 0 auto;
}

.product-popup-modal__toggle:hover {
	color: rgba(#{$schemaColorForeground}, 0.75);
}

.product-popup-modal__toggle .icon {
	height: auto;
	margin: 0;
	width: #{$ax22};
}

.product__media-list .media > * {
	overflow: hidden;
}

.thumbnail-list {
	flex-wrap: wrap;
	grid-gap: 1rem;
}

/* Fix to show some space at the end of our sliders in all browsers to be applied on thumbnails */
.slider--mobile.thumbnail-list:after {
	content: none;
}

.thumbnail-list_item--variant:not(:first-child) {
	display: none;
}

@include media-query($s-down) {
	.product__media-item {
		display: flex;
		align-items: center;
	}

	.product__modal-opener {
		width: 100%;
	}

	.thumbnail-slider {
		display: flex;
		align-items: center;
	}

	.thumbnail-slider .thumbnail-list.slider {
		display: flex;
		padding: #{$ax5};
		flex: 1;
		scroll-padding-left: #{$ax5};
	}

	.thumbnail-list__item.slider__slide {
		width: calc(33% - #{$ax6});
	}
}

@media screen and (min-width: 900px) {
	.product--small .thumbnail-list.slider--tablet-up .thumbnail-list__item.slider__slide {
		width: calc(25% - #{$ax8});
	}

	.thumbnail-list.slider--tablet-up .thumbnail-list__item.slider__slide {
		width: calc(20% - #{$ax8});
	}
}

.thumbnail {
	position: absolute;
	top: 0;
	left: 0;
	display: block;
	height: 100%;
	width: 100%;
	padding: 0;
	color: rgb(#{$schemaColorForeground});
	cursor: pointer;
	background-color: transparent;
}

.thumbnail:hover {
	opacity: 0.7;
}

.thumbnail.global-media-settings img {
	border-radius: 0;
}

.thumbnail[aria-current] {
	box-shadow: 0 0 0rem #{$ax1} rgb(#{$schemaColorForeground});
	border-color: rgb(#{$schemaColorForeground});
}

.image-magnify-full-size {
	cursor: zoom-out;
	z-index: 1;
	margin: 0;
	border-radius: calc(#{$mediaRadius} - #{$mediaBorderWidth});
}

.image-magnify-hover {
	cursor: zoom-in;
}

.product__modal-opener--image .product__media-zoom-none,
.product__media-icon--none {
	display: none;
}

.product__modal-opener > .loading-overlay__spinner {
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	position: absolute;
	display: flex;
	align-items: center;
	height: 48px;
	width: 48px;
}

.product__modal-opener .path {
	stroke: rgb(#{$schemaColorButton});
	opacity: 0.75;
}

@media (hover: hover) {
	.product__media-zoom-hover,
	.product__media-icon--hover {
		display: none;
	}
}

@include media-query($s-down) {
	.product__media-zoom-hover,
	.product__media-icon--hover {
		display: flex;
	}
}

.js .product__media {
	overflow: hidden !important;
}

.thumbnail[aria-current]:focus-visible {
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0rem #{$ax5} rgba(#{$schemaColorForeground}, 0.5);
}

.thumbnail[aria-current]:focus,
.thumbnail.focused {
	outline: 0;
	box-shadow: 0 0 0 #{$ax3} rgb(#{$schemaColorBackground}),
		0 0 0rem #{$ax5} rgba(#{$schemaColorForeground}, 0.5);
}

/* outline styling for Windows High Contrast Mode */
@media (forced-colors: active) {
	.thumbnail[aria-current]:focus,
	.thumbnail.focused {
		outline: transparent solid 1px;
	}
}
.thumbnail[aria-current]:focus:not(:focus-visible) {
	outline: 0;
	box-shadow: 0 0 0 #{$ax1} rgb(#{$schemaColorForeground});
}

.thumbnail img {
	object-fit: cover;
	width: 100%;
	height: 100%;
	pointer-events: none;
}

.thumbnail__badge .icon {
	width: 1rem;
	height: 1rem;
}

.thumbnail__badge .icon-3d-model {
	width: #{$ax12};
	height: #{$ax12};
}

.thumbnail__badge {
	color: rgb(#{$schemaColorForeground}, 0.6);
	height: 2rem;
	width: 2rem;
	left: auto;
	right: calc(#{$ax4} + #{$mediaBorderWidth});
	top: calc(#{$ax4} + #{$mediaBorderWidth});
}

.thumbnail-list__item {
	position: relative;
}

.thumbnail-list__item::before {
	content: '';
	display: block;
	padding-bottom: 100%;
}

.product:not(.featured-product) .product__view-details {
	display: none;
}

.product__view-details {
	display: block;
	text-decoration: none;
}

.product__view-details:hover {
	text-decoration: underline;
	text-underline-offset: #{$ax3};
}

.product__view-details .icon {
	width: #{$ax12};
	margin-left: #{$ax12};
	flex-shrink: 0;
}

/* Inventory status */

.product__inventory {
	display: flex;
	align-items: center;
	gap: #{$ax5};
}

.product--no-media .product__inventory {
	justify-content: center;
}

/* This keeps the container from getting display: none; applied to it and to make sure we're not introducing some layout shift when switching to an unavailable variant */
.product__inventory.visibility-hidden:empty {
	display: block;
}

.product__inventory.visibility-hidden:empty::after {
	content: '#';
}

/* Icon with text */
.icon-with-text {
	--icon-size: calc(#{$fontHeadingScale} * 3rem);
	--icon-spacing: calc(#{$fontHeadingScale} * 1rem);
}

.icon-with-text--horizontal {
	display: flex;
	justify-content: center;
	column-gap: 3rem;
	flex-direction: row;
}

.icon-with-text--vertical {
	--icon-size: calc(#{$fontHeadingScale} * 2rem);
}

.icon-with-text .icon {
	fill: rgb(#{$schemaColorForeground});
	height: var(--icon-size);
	width: var(--icon-size);
}

.icon-with-text--horizontal .icon,
.icon-with-text--horizontal img {
	margin-bottom: var(--icon-spacing);
}

.icon-with-text--vertical .icon {
	min-height: var(--icon-size);
	min-width: var(--icon-size);
	margin-right: var(--icon-spacing);
}

.icon-with-text img {
	height: var(--icon-size);
	width: var(--icon-size);
	object-fit: contain;
}

.icon-with-text--vertical img {
	margin-right: var(--icon-spacing);
}

.icon-with-text--horizontal .h4 {
	padding-top: calc(var(--icon-size) + var(--icon-spacing));
	text-align: center;
}

.icon-with-text--horizontal svg + .h4,
.icon-with-text--horizontal img + .h4,
.icon-with-text--horizontal.icon-with-text--text-only .h4 {
	padding-top: 0;
}

.icon-with-text__item {
	display: flex;
	align-items: center;
}

.icon-with-text--horizontal .icon-with-text__item {
	flex-direction: column;
	width: 33%;
}

.icon-with-text--vertical .icon-with-text__item {
	margin-bottom: var(--icon-size);
}

/* SKU block */

.product__sku.visibility-hidden::after {
	content: '#';
}

/* Product-thumbnail snippet */

.product-media-container {
	--aspect-ratio: var(--preview-ratio);
	--ratio-percent: calc(1 / var(--aspect-ratio) * 100%);
	position: relative;
	width: 100%;
	max-width: calc(100% - calc(#{$mediaBorderWidth} * 2));
}

.product-media-container.constrain-height {
	/* arbitrary offset value based on average theme spacing and header height */
	--viewport-offset: 400px;
	--constrained-min-height: 300px;
	--constrained-height: max(var(--constrained-min-height), calc(100vh - var(--viewport-offset)));
	margin-right: auto;
	margin-left: auto;
}

.product-media-container.constrain-height.media-fit-contain {
	--contained-width: calc(var(--constrained-height) * var(--aspect-ratio));
	width: min(var(--contained-width), 100%);
}

.product-media-container .media {
	padding-top: var(--ratio-percent);
}

.product-media-container.constrain-height .media {
	padding-top: min(var(--constrained-height), var(--ratio-percent));
}

@include media-query($s-down) {
	.product-media-container.media-fit-cover {
		display: flex;
		align-self: stretch;
	}

	.product-media-container.media-fit-cover .media {
		/* allow media img element to scale relative to modal-opener/product-media-container */
		position: initial;
	}
}

.product-media-container .product__modal-opener {
	display: block;
	position: relative;
}

/* Recipient form */
.recipient-form {
	/* (2.88[line-height] - #{$ax16}) / 2 */
	--recipient-checkbox-margin-top: 0.64rem;

	display: block;
	position: relative;
	max-width: 44rem;
	margin-bottom: #{$ax25};
}

.recipient-form-field-label {
	margin: #{$ax6} 0;
}

.recipient-form-field-label--space-between {
	display: flex;
	justify-content: space-between;
}

.recipient-checkbox {
	flex-grow: 1;
	font-size: #{$ax16};
	display: flex;
	word-break: break-word;
	align-items: flex-start;
	max-width: inherit;
	position: relative;
	cursor: pointer;
}

.no-js .recipient-checkbox {
	display: none;
}

.recipient-form > input[type='checkbox'] {
	position: absolute;
	width: #{$ax16};
	height: #{$ax16};
	margin: var(--recipient-checkbox-margin-top) 0;
	top: 0;
	left: 0;
	z-index: -1;
	appearance: none;
	-webkit-appearance: none;
}

.recipient-fields__field {
	margin: 0 0 2rem 0;
}

.recipient-fields .field__label {
	white-space: nowrap;
	text-overflow: ellipsis;
	max-width: calc(100% - #{$ax35});
	overflow: hidden;
}

.recipient-checkbox > svg {
	margin-top: var(--recipient-checkbox-margin-top);
	margin-right: #{$ax12};
	flex-shrink: 0;
}

.recipient-form .icon-checkmark {
	visibility: hidden;
	position: absolute;
	left: 0.28rem;
	z-index: 5;
	top: #{$ax4};
}

.recipient-form > input[type='checkbox']:checked + label .icon-checkmark {
	visibility: visible;
}

.js .recipient-fields {
	display: none;
}

.recipient-fields hr {
	margin: #{$ax16} auto;
}

.recipient-form > input[type='checkbox']:checked ~ .recipient-fields {
	display: block;
	animation: animateMenuOpen var(--duration-default) ease;
}
.recipient-form > input[type='checkbox']:not(:checked, :disabled) ~ .recipient-fields,
.recipient-email-label {
	display: none;
}

.js .recipient-email-label.required,
.no-js .recipient-email-label.optional {
	display: inline;
}

.recipient-form ul {
	line-height: calc(1 + 0.6 / #{$fontBodyScale});
	padding-left: #{$ax44};
	text-align: left;
}

.recipient-form ul a {
	display: inline;
}

.recipient-form .error-message::first-letter {
	text-transform: capitalize;
}

@media screen and (forced-colors: active) {
	.recipient-fields > hr {
		border-top: #{$ax1} solid rgb(#{$schemaColorBackground});
	}

	.recipient-checkbox > svg {
		background-color: inherit;
		border: #{$ax1} solid rgb(#{$schemaColorBackground});
	}

	.recipient-form > input[type='checkbox']:checked + label .icon-checkmark {
		border: none;
	}
}
